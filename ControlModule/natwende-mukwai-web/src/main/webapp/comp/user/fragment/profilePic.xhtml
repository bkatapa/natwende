<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core">
				
	<h:panelGrid columns="3" columnClasses="label,value" width="100%">
		<p:fileUpload fileUploadListener="#{UserAction.handlePictureUpload}"
					  label="Choose profile picture"
					  mode="advanced"
					  dragDropSupport="true"
					  update="@all"
					  sizeLimit="100000"
					  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
  		<p:messages id="upload-messages" showDetail="true" severity="error,info" closable="true"/>
  		<p:outputPanel>
  			<p:graphicImage value="#{UserAction.previewImage}"
  							style="width: 50px; height: 50px;"
  							styleClass="ui-corner-all">
				<f:param name="userId" value="#{UserAction.selectedEntity.id}"/>
			</p:graphicImage>
  		</p:outputPanel>
	</h:panelGrid>
	
</ui:composition>